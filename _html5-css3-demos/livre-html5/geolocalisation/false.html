<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
<script type="text/javascript">

var watchId = navigator.geolocation.watchPosition(successCallback, errorCallback, {enableHighAccuracy:false});

function successCallback(position){
      document.getElementById("latitude").innerHTML = position.coords.latitude;
      document.getElementById("longitude").innerHTML = position.coords.longitude;
      document.getElementById("altitude").innerHTML = position.coords.altitude;
      document.getElementById("accuracy").innerHTML = position.coords.accuracy;
      document.getElementById("altaccuracy").innerHTML = position.coords.altitudeAccuracy;
      document.getElementById("heading").innerHTML = position.coords.heading;
      document.getElementById("speed").innerHTML = position.coords.speed;      
      document.getElementById("timestamp").innerHTML = position.timestamp;      
      document.getElementById("error").innerHTML = "";
}; 
 
function errorCallback(error){
      document.getElementById("latitude").innerHTML = "";
      document.getElementById("longitude").innerHTML = "";
      document.getElementById("altitude").innerHTML = "";
      document.getElementById("accuracy").innerHTML = "";
      document.getElementById("altaccuracy").innerHTML = "";
      document.getElementById("heading").innerHTML = "";
      document.getElementById("speed").innerHTML = "";      
      document.getElementById("timestamp").innerHTML = "";
      switch(error.code){
    case error.PERMISSION_DENIED:
      document.getElementById("error").innerHTML = "Permission d’accès à la position refusée";
      break;
    case error.POSITION_UNAVAILABLE:
      document.getElementById("error").innerHTML = "La position n’a pas pu être déterminée";
      break;
    case error.TIMEOUT:
      document.getElementById("error").innerHTML = "Le service n’a pas répondu à temps";
      break;
    }
};

</script>
</head>
<body>
Latitude : <span id="latitude"></span><br />
Longitude : <span id="longitude"></span><br />
Altitude : <span id="altitude"></span><br />
Précision : <span id="accuracy"></span><br />
Précision altitude : <span id="altaccuracy"></span><br />
Angle au Nord : <span id="heading"></span><br />
Vitesse : <span id="speed"></span><br />
Timestamp : <span id="timestamp"></span><br />
Erreur : <span id="error"></span>
</body>
</html>